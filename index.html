<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Marionette Search App</title>
    
    <link href="./assets/css/application.css" rel="stylesheet"> 
    <link href="./assets/css/dropdown/style.css" rel="stylesheet">
    <link href="./assets/css/collection-module.css" rel="stylesheet">
    <link href="./assets/css/modal.css" rel="stylesheet">
    
    <link href="./assets/css/jquery-ui-1.10.0.custom.css" rel="stylesheet">
  </head>

  <body>

    
    <div class="container">
      <div id="menu-region">
        
         
      </div>
      <div id="search-region">
       
      </div>

      <div id="main-region"  >
        
      </div>
      
      <div id="right-container">
        <div id="collection-region" class="off-region">

        </div>
        <div id="map-region">
        
        </div>

      </div>
      

    </div>
    
    <div  class="md-modal"></div>
    <div class="md-overlay"></div>

    <script type="x-handlebars-template"  id="tools-menu">
      <div class="wrapper-demo">
        <div id="dd"  class="wrapper-dropdown-5" tabindex="1">
          Select tools
          <ul  class="dropdown">
            {{#each modules}}
              <li><a href="#" data-module="{{ name }}">{{ text }}</a></li>
            {{/each}}
           
          </ul>
        </div>
      </div>
      <div class="active-modules-div">
        {{#each active}}
          <div class="moduleTab"> {{ name }} <div data-module="{{ name }}" class="icon-remove"></div></div>
        {{/each}}
      </div>
    </script>

    



    <script type="x-handlebars-template" id="search-layout">
      <input type="search" id="searchQuery"></input>
      <a href="#" class='searchButton'>SEARCH</a>
      <span class='advancedSearchLink'><a href="#">Advanced Search</a></span>
      <div id="advancedSearch">
        <section class="collections">
          <h4>Choose collection</h4>
          <ul>
            {{#each collections}}
              <li><label class='checkbox'><input type="checkbox" class="typeClass" value="{{this}}"/>{{this}}</label></li>
            {{/each}}
          </ul>

        </section>
        <section class="types">
          <h4>Choose object type</h4>
            <ul>
            {{#each types}}
              <li><label class='checkbox'><input type="checkbox" class="typeClass" value="{{type}}"/>{{title}}</label></li>
            {{/each}}
            </ul>
        </section>
    
      </div>
    </script>
    
    <script type="x-handlebars-template" id="results-layout">
      <a class="tile" href="http://public.cyi.ac.cy/starcRepo/details/show/{{docID}}" data-id= "{{ docID }}" data-lat="{{ lat }}" data-lng="{{ lng }}" target="_blank">
            <img src="{{ imageLocation }}" width="100" height="{{ height }}"  ><p>{{ label }}</p>
      
         
      </a>
    </script>

    <script type="x-handlebars-template" id="results-template">
        <ul id="tiles">

        </ul>
      
    </script>


    <script type="text/template" id="new-collection">
        <div id="collection-menu">
          <span class="collection-icon-1"></span>
          <span class="collection-icon-2"></span>
          <span class="collection-icon-3"></span>
          <span class="collection-icon-4"></span>
          <span class="collection-icon-5"></span>
          <span class="collection-icon-6"></span>
         
        </div>
        

        <div id="collection-content">

        </div>
      
    </script>

    <script type="x-handlebars-template" id="collection-item">
      <img src="{{ imageLocation }}" height="60"/>
    </script>

    <script type="x-handlebars-template" id="details-template">
      
      <span class="md-icon-close"></span>
      <div class="details-modal">

        <div class="image-container">
          <p class="title"> {{ title }} </p>
          <img src="{{ imageLocation  }}" width="350"/>
        </div>
        <div class="metadata-container">
          {{#each metadataList}}
            {{#each this}}
            <p>
              <span class="metadata-label">{{@key}}</span>: <span class='metadata-content'> {{this}}</span>
            </p>
            {{/each }}
            
          {{/each}}
          
        </div>
      </div>
    </script>


    <script type="text/template" id="loading-view">
      <h1><%- title %></h1>
      <div id="spinner"></div>
    </script>

    

    <script src="./assets/js/vendor/jquery.js"></script>
    <script src="./assets/js/vendor/jquery-ui-1.10.3.js"></script>
    <script src="./assets/js/vendor/jquery.wookmark.min.js"></script>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDXuSxAlefxRVSKVAaRX27QmBfrHNkhUug&sensor=true&region=CY">
    </script>

    <script src="./assets/js/vendor/json2.js"></script>
    <script src="./assets/js/vendor/underscore.js"></script>
    <script src="./assets/js/vendor/backbone.js"></script>
    <script src="./assets/js/vendor/backbone.syphon.js"></script>
    <script src="./assets/js/vendor/backbone.localstorage.js"></script>
    <script src="./assets/js/vendor/backbone.marionette.js"></script>
    <script src="./assets/js/vendor/handlebars-v1.3.0.js"></script>
    
    

    <script src="./assets/js/vendor/spin.js"></script>
    <script src="./assets/js/vendor/spin.jquery.js"></script>

    <script src="./assets/js/apps/cfg/marionette/regions/dialog.js"></script>
      

    <script src="./assets/js/app.js"></script>
    <script src="./assets/js/entities/search.js"></script>
    <script src="./assets/js/entities/modules.js"></script>
    
    

    <script src="./assets/js/apps/layout_module.js"></script>
    
    <script src="./assets/js/apps/common/views.js"></script>
    
    <script src="./assets/js/apps/menu/menu_view.js"></script>
    <script src="./assets/js/apps/menu/menu_controller.js"></script>
    

    <script src="./assets/js/apps/search/search_view.js"></script>
    <script src="./assets/js/apps/search/search_controller.js"></script>
    
    <script src="./assets/js/apps/results/results_view.js"></script>
    <script src="./assets/js/apps/results/results_controller.js"></script>

    <script src="./assets/js/apps/map/map_view.js"></script>
    <script src="./assets/js/apps/map/map_controller.js"></script>
    
    <script src="./assets/js/apps/collection/collection_view.js"></script>
    <script src="./assets/js/apps/collection/collection_controller.js"></script>
    
    <script src="./assets/js/apps/details/details_view.js"></script>
    <script src="./assets/js/apps/details/details_controller.js"></script>
    
    
    <script type="text/javascript">

      function DropDown(el) {
        this.dd = el;
        this.initEvents();
      }
      DropDown.prototype = {
        initEvents : function() {
          var obj = this;

          obj.dd.on('click', function(event){
            $(this).toggleClass('active');
            //event.stopPropagation();
          }); 
        }
      }

      $(function() {

        var dd = new DropDown( $('#dd') );

      });

    </script>



    <script type="text/javascript">
      SearchApp.start();
    </script>
    
  </body>
</html>
